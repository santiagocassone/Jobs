@{
    ViewData["Title"] = "Post Order Placement OWP";
    ViewData["NavBarColor"] = "grey";
    ViewData["ShowNavBar"] = "True";
    ViewData["Type"] = "PostOrderPlacementOWP";
}
@model OWPApplications.Models.PostOrderPlacement.PostOrderPlacementViewModel;

<style type="text/css">

    .frzTable {
        display: flex;
        flex-flow: column;
        width: 100%;
    }

        .frzTable thead {
            flex: 0 0 auto;
            width: calc( 100% - 1em );
        }

        .frzTable tbody {
            flex: 1 1 auto;
            display: block;
            overflow-y: scroll;
            overflow-x: hidden;
            height: 600px
        }

        .frzTable tr {
            width: 100%;
            display: table;
            table-layout: fixed;
        }

    #popupColsLD, #popupColsPOS, #popupColsDET {
        width: 400px;
        position: fixed;
        top: calc(50% - 200px);
        left: calc(50% - 200px);
        background-color: white;
    }

    .divCard {
        margin: 0 auto;
        float: none;
        width: 1800px;
        margin-left: -335px
    }

    #tblLineDetail th {
        padding: 4.8px;
    }

    #tblLineDetail th, #tblLineDetail td {
        font-size: 12px;
    }
</style>

@if (Model.ShowResults)
{
    <div class="row mt-4">
        <h3 class="col-12">Header Info</h3>
        <div class="card col-12">
            <div class="row no-gutters">
                <div class="col-md-6">
                    <ul class="header-info py-3 pl-0">
                        <li class="d-flex justify-content-between align-items-center"><span class="header-info--label left">Project Id:</span><span class="header-info--value" id="projectID">@Html.Raw(Model.HeaderInfo.ProjectId)</span></li>
                        <li class="d-flex justify-content-between align-items-center"><span class="header-info--label left">Title:</span><span class="header-info--value">@Html.Raw(Model.HeaderInfo.OrderTitle)</span></li>
                        <li class="d-flex justify-content-between align-items-center"><span class="header-info--label left">Customer #:</span><span class="header-info--value">@Html.Raw(Model.HeaderInfo.CustomerNo)</span></li>
                        <li class="d-flex justify-content-between align-items-center"><span class="header-info--label left">Sales IDs (%):</span><span class="header-info--value">@Html.Raw(Model.HeaderInfo.SalesIDs)</span></li>
                        <li class="d-flex justify-content-between align-items-center"><span class="header-info--label left">Customer PO #:</span><span class="header-info--value">@Html.Raw(Model.HeaderInfo.CustomerPONo)</span></li>
                        <li class="d-flex justify-content-between align-items-center"><span class="header-info--label left">Ship To Address:</span><span class="header-info--value">@Html.Raw(Model.HeaderInfo.ShipToAddress)</span></li>
                        <li class="d-flex justify-content-between align-items-center"><span class="header-info--label left">Order Status (U, A, S, H, C):</span><span class="header-info--value">@Html.Raw(Model.HeaderInfo.OrderStatus)</span></li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <ul class="header-info py-3 pl-0">
                        <li class="d-flex justify-content-between align-items-center"><span class="header-info--label right">Delivery Instructions:</span><span class="header-info--value">@Html.Raw(Model.HeaderInfo.DeliveryInstructions)</span></li>
                        <li class="d-flex justify-content-between align-items-center"><span class="header-info--label right">MFG PO Info:</span><span class="header-info--value">@Html.Raw(Model.HeaderInfo.MFG_PO_Info)</span></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>


    <div class="card mt-5 divCard">
        <div class="card-body">
            <ul class="nav nav-tabs" role="tablist">
                <li class="nav-item">
                    <a class="nav-link h3 mb-0 active" id="si-tab" data-toggle="tab" href="#si" role="tab" aria-controls="si" aria-selected="true">Summary Info</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link h3 mb-0" id="ld-tab" data-toggle="tab" href="#ld" role="tab" aria-controls="ld" aria-selected="false">Line Detail</a>
                </li>
            </ul>

            <div class="tab-content">
                <div id="si" class="tab-pane fade show active">
                    <div class="col-12 p-3">
                        <div class="col-12 lines-header" style="margin-bottom:48px">
                            <button class="btn btn-sm btn-primary float-right" id="posReport" onclick="OpenPopupSelection('POS')" style="margin-left: 5px;">PO Suffix/Line Detail</button>
                            <button class="btn btn-sm btn-primary float-right" id="ldReport" onclick="OpenPopupSelection('LD')">PO Summary</button>
                        </div>
                        <div class="card col-12 p-3">
                            <div class="alt-table-responsive table-responsive">
                                <table class="table table-sm table-bordered text-center frzTable">
                                    <thead>
                                        <tr>
                                            <th style="width:40px"></th>
                                            <th scope="col" class="table-header">PO #</th>
                                            <th scope="col" class="table-header">Vendor #</th>
                                            <th scope="col" class="table-header">Ordered (Date)</th>
                                            <th scope="col" class="table-header">Ack #</th>
                                            <th scope="col" class="table-header">Ack Date</th>
                                            <th scope="col" class="table-header">Ship Date</th>
                                            <th scope="col" class="table-header">Requested Arrival Date</th>
                                            <th scope="col" class="table-header">Lastest Received Date</th>
                                            <th scope="col" class="table-header">Estimated Arrival Date</th>
                                            <th scope="col" class="table-header">Scheduled Arrival Date</th>
                                            <th scope="col" class="table-header">Carrier</th>
                                            <th scope="col" class="table-header">Tracking/PRO #/BOL</th>
                                            <th scope="col" class="table-header">Tracking Link</th>
                                            <th scope="col" class="table-header" style="width:160px">Comments</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @for (int i = 0; i < Model.SummaryInfo.Count(); i++)
                                        {
                                            var line = Model.SummaryInfo.ElementAt(i);
                                            string clsPO = line.PONotReceived ? "bg-yellow-light" : "";
                                            string clsACK = line.ACKNotReceived ? "bg-red-light" : "";
                                            bool showCheckBox = !("ONE20, ONE22, ONE23, ONE24, ONE26, ONE27, ONE28,".Contains(line.VendorNo.Trim()));
                                            string rowCls = (!showCheckBox) ? "row-gray" : "";
                                            <tr class="po-@line.PoSuffix breakrow @rowCls" data-podate="@line.OrderedDate">
                                                <td style="width:40px">
                                                    @if (showCheckBox)
                                                    {
                                                        <input type="checkbox" class="show-email-options" id="cb-@string.Format("W{0}-{1}-{2}", line.OrderNo, line.PoSuffix, line.VendorNo.Trim().Replace("&",""))"
                                                               data-source="POP_APP"
                                                               data-vendor="@line.VendorNo.Trim()"
                                                               data-po="@line.PoSuffix" data-orderno="@line.OrderNo">
                                                    }

                                                </td>
                                                <td><a class="link-po--posto" data-index="@i" tabindex="@i">@string.Format("W{0}-{1}", line.OrderNo, line.PoSuffix)</a></td>
                                                @*<td>@line.VendorNo.Trim()</td>*@
                                                <td>@line.VendorName (@line.VendorNo.Trim())</td>
                                                <td>@line.OrderedDate</td>
                                                <td class="@clsACK">@line.AckNo</td>
                                                <td class="@clsACK">@line.AckDate</td>
                                                <td>@line.ShipDate</td>
                                                <td>@line.RequestedArrival</td>
                                                <td class="@clsPO">@line.LastReceivedDate</td>
                                                <td class="@line.EstimatedArrivalColor">@line.EstimatedArrival</td>
                                                @if (line.PoSuffix == "")
                                                {
                                                    <td>
                                                        <input style="width:94px"
                                                               data-field="Sched_Arrival_Dt"
                                                               data-orderno="@line.OrderNo"
                                                               data-po="@line.PoSuffix"
                                                               data-keystring="@line.VendorNo.Trim()"
                                                               data-companycode="W"
                                                               data-ordertype="O"
                                                               data-upsertlevel="OR"
                                                               data-source="POP_APP"
                                                               class="schArrDate values-input-date"
                                                               value="@line.ScheduledArrivalDate" />
                                                    </td>
                                                    <td>
                                                        <textarea style="width:94px" class="values-input" id="carrier-@string.Format("W{0}-{1}", line.OrderNo, line.PoSuffix)"
                                                                  data-orderno="@line.OrderNo"
                                                                  data-po="@line.PoSuffix"
                                                                  data-keystring="@line.VendorNo.Trim()"
                                                                  data-companycode="W"
                                                                  data-ordertype="O"
                                                                  data-upsertlevel="OR"
                                                                  data-field="Carrier"
                                                                  data-source="POP_APP" rows="3">@line.Carrier</textarea>
                                                    </td>
                                                    <td>
                                                        <textarea style="width:94px" class="values-input" id="tracking-@string.Format("W{0}-{1}", line.OrderNo, line.PoSuffix)"
                                                                  data-orderno="@line.OrderNo"
                                                                  data-po="@line.PoSuffix"
                                                                  data-keystring="@line.VendorNo.Trim()"
                                                                  data-companycode="W"
                                                                  data-ordertype="O"
                                                                  data-upsertlevel="OR"
                                                                  data-field="Tracking"
                                                                  data-source="POP_APP" rows="3">@line.Tracking</textarea>
                                                    </td>
                                                    <td>
                                                        <a href="@("http://"+line.TrackingLink)" id="linkTrackLink-@string.Format("W{0}-{1}", line.OrderNo, line.PoSuffix)" target="_blank" style="display:@(line.TrackingLink == null || line.TrackingLink == "" ? "none" : "inline");">
                                                            <i class="fa fa-regular fa-link"></i>
                                                        </a>
                                                        <button type="button" class="btn btn-sm" data-toggle="modal" data-target="#trackingLinkModal" id="trackLink-@string.Format("W{0}-{1}", line.OrderNo, line.PoSuffix)"
                                                                data-orderno="@line.OrderNo"
                                                                data-po="@line.PoSuffix"
                                                                data-keystring="@line.VendorNo.Trim()"
                                                                data-companycode="W"
                                                                data-ordertype="O"
                                                                data-upsertlevel="OR"
                                                                data-source="POP_APP"
                                                                data-value="@line.TrackingLink"
                                                                data-field="TrackingLink">
                                                            <i class="fa fa-regular fa-pen"></i>
                                                        </button>
                                                    </td>
                                                    <td style="width:160px;padding:0">
                                                        <textarea style="width:159px;height:88px;border:0" class="values-input" id="comments-@string.Format("W{0}-{1}", line.OrderNo, line.PoSuffix)"
                                                                  data-orderno="@line.OrderNo"
                                                                  data-po="@line.PoSuffix"
                                                                  data-keystring="@line.VendorNo.Trim()"
                                                                  data-companycode="W"
                                                                  data-ordertype="O"
                                                                  data-upsertlevel="OR"
                                                                  data-field="Comment"
                                                                  data-source="POP_APP" rows="3">@line.Comments</textarea>
                                                    </td>
                                                }
                                                else
                                                {
                                                    <td>
                                                        <input style="width:94px"
                                                               data-field="Sched_Arrival_Dt"
                                                               data-orderno="@line.OrderNo"
                                                               data-po="@line.PoSuffix"
                                                               data-keystring="@line.VendorNo.Trim()"
                                                               data-companycode="W"
                                                               data-ordertype="O"
                                                               data-upsertlevel="PO"
                                                               data-source="POP_APP"
                                                               class="schArrDate values-input-date"
                                                               value="@line.ScheduledArrivalDate" />
                                                    </td>
                                                    <td>
                                                        <textarea style="width:94px" class="values-input" id="carrier-@string.Format("W{0}-{1}", line.OrderNo, line.PoSuffix)"
                                                                  data-orderno="@line.OrderNo"
                                                                  data-po="@line.PoSuffix"
                                                                  data-keystring="@line.VendorNo.Trim()"
                                                                  data-companycode="W"
                                                                  data-ordertype="O"
                                                                  data-upsertlevel="PO"
                                                                  data-field="Carrier"
                                                                  data-source="POP_APP" rows="3">@line.Carrier</textarea>
                                                    </td>
                                                    <td>
                                                        <textarea style="width:94px" class="values-input" id="tracking-@string.Format("W{0}-{1}", line.OrderNo, line.PoSuffix)"
                                                                  data-orderno="@line.OrderNo"
                                                                  data-po="@line.PoSuffix"
                                                                  data-keystring="@line.VendorNo.Trim()"
                                                                  data-companycode="W"
                                                                  data-ordertype="O"
                                                                  data-upsertlevel="PO"
                                                                  data-field="Tracking"
                                                                  data-source="POP_APP" rows="3">@line.Tracking</textarea>
                                                    </td>
                                                    <td>
                                                        <a href="@("http://"+line.TrackingLink)" id="linkTrackLink-@string.Format("W{0}-{1}", line.OrderNo, line.PoSuffix)" target="_blank" style="display:@(line.TrackingLink == null || line.TrackingLink == "" ? "none" : "inline");">
                                                            <i class="fa fa-regular fa-link"></i>
                                                        </a>
                                                        <button type="button" class="btn btn-sm" data-toggle="modal" data-target="#trackingLinkModal" id="trackLink-@string.Format("W{0}-{1}", line.OrderNo, line.PoSuffix)"
                                                                data-orderno="@line.OrderNo"
                                                                data-po="@line.PoSuffix"
                                                                data-keystring="@line.VendorNo.Trim()"
                                                                data-companycode="W"
                                                                data-ordertype="O"
                                                                data-upsertlevel="OR"
                                                                data-source="POP_APP"
                                                                data-value="@line.TrackingLink"
                                                                data-field="TrackingLink">
                                                            <i class="fa fa-regular fa-pen"></i>
                                                        </button>
                                                    </td>
                                                    <td style="width:160px;padding:0">
                                                        <textarea style="width:159px;height:88px;border:0" class="values-input" id="comments-@string.Format("W{0}-{1}", line.OrderNo, line.PoSuffix)"
                                                                  data-orderno="@line.OrderNo"
                                                                  data-po="@line.PoSuffix"
                                                                  data-keystring="@line.VendorNo.Trim()"
                                                                  data-companycode="W"
                                                                  data-ordertype="O"
                                                                  data-upsertlevel="PO"
                                                                  data-field="Comment"
                                                                  data-source="POP_APP" rows="3">@line.Comments</textarea>
                                                    </td>
                                                }
                                            </tr>
                                            <tr class="optionrow" style="display:none">
                                                <td colspan="14" id="options-@line.PoSuffix-@line.VendorNo.Trim().Replace("&","")">
                                                    <div class="container p-3">
                                                    </div>
                                                </td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="ld" class="tab-pane fade">
                    <div class="col-12 p-3">

                        <div class="col-12 lines-header" style="margin-bottom:48px">
                            <button class="btn btn-sm btn-primary float-right" id="detReport" onclick="OpenPopupSelection('DET')">Line Detail</button>
                            <div class="custom-control custom-switch mx-4 mb-4 float-right" title="When ON will show only orders having W1/D1 Processing Code and having Qty Delivered different than Quantity Ordered">
                                <input type="checkbox" class="custom-control-input" id="showW1D1ShippedDT">
                                <label class="custom-control-label" for="showW1D1ShippedDT">W1/D1 = Shipped DT</label>
                            </div>
                            <div class="custom-control custom-switch mx-4 mb-4 float-right" title="When ON will show only orders having D4/IW Processing Code and having Qty Cost Verified different than Quantity Ordered">
                                <input type="checkbox" class="custom-control-input" id="showD4IWShippedDT">
                                <label class="custom-control-label" for="showD4IWShippedDT">D4/IW = Shipped DT</label>
                            </div>
                        </div>



                        <div class="card col-12 p-3">
                            <div class="alt-table-responsive table-responsive">
                                <table class="table table-sm table-bordered text-center frzTable sortable" id="tblLineDetail">
                                    <thead>
                                        <tr>
                                            <th scope="col" class="table-header" width="80px">PO #</th>
                                            <th scope="col" class="table-header" width="45px">Line #</th>
                                            <th scope="col" class="table-header" width="55px">Process Code</th>
                                            <th scope="col" class="table-header" width="90px">Vendor Name</th>
                                            <th scope="col" class="table-header" width="90px">Catalog #</th>
                                            <th scope="col" class="table-header" width="140px">Description</th>
                                            <th scope="col" class="table-header" width="60px">QTY Ordered</th>
                                            <th scope="col" class="table-header" width="140px">General Tagging</th>
                                            <th scope="col" class="table-header" width="75px">Ordered Date</th>
                                            <th scope="col" class="table-header" width="75px">Requested Arrival Date</th>
                                            <th scope="col" class="table-header" width="90px">Ack #</th>
                                            <th scope="col" class="table-header" width="75px">Ship Date</th>
                                            <th scope="col" class="table-header" width="75px">Estimated Arrival Date</th>
                                            <th scope="col" class="table-header" width="60px">QTY Received</th>
                                            <th scope="col" class="table-header" width="75px">Latest Received Date</th>
                                            <th scope="col" class="table-header" width="60px">QTY Ticketed</th>
                                            <th scope="col" class="table-header" width="60px">QTY Delivered</th>
                                            <th scope="col" class="table-header" width="75px">Latest Scheduled Date</th>
                                            <th scope="col" class="table-header" width="90px">Carrier</th>
                                            <th scope="col" class="table-header" width="90px">Tracking #</th>
                                            <th scope="col" class="table-header" width="90px">Freeform Notes</th>
                                        </tr>
                                    </thead>
                                    <tbody class="line-details-body">
                                        @for (int i = 0; i < Model.LineDetail.Count(); i++)
                                        {
                                            var line = Model.LineDetail.ElementAt(i);
                                            <tr class="line-detail-row"
                                                data-w1d1="@((line.ProcessingCode.Equals("W1") || line.ProcessingCode.Equals("D1")) && line.QtyDelivered != line.QtyOrdered)"
                                                data-d4iw="@((line.ProcessingCode.Equals("D4") || line.ProcessingCode.Equals("IW")) && line.QtyCostVerified != line.QtyOrdered)">

                                                <td width="80px">@line.POReference</td>
                                                <td width="45px">@line.LineNo</td>
                                                <td width="55px">@line.ProcessingCode</td>
                                                <td width="90px">@line.VendorName (@line.VendorID.Trim())</td>
                                                <td width="90px">@line.CatalogNo</td>
                                                <td width="140px"><div style="height:40px;overflow:hidden;" data-toggle="tooltip" title="@line.Description">@line.Description</div></td>
                                                <td width="60px">@line.QtyOrdered</td>
                                                <td width="140px"><div style="height:40px;overflow:hidden;" data-toggle="tooltip" title="@line.GeneralTagging">@line.GeneralTagging</div></td>
                                                <td width="75px">@(line.OrderedDate.Year == 1 ? "N/A" : line.OrderedDate.ToShortDateString())</td>
                                                <td width="75px">@(line.RequestedArrivalDate.Year == 1 ? "N/A" : line.RequestedArrivalDate.ToShortDateString())</td>
                                                <td width="90px">@line.AckNo</td>
                                                <td width="75px">@(line.ShipDate.Year == 1 ? "N/A" : line.ShipDate.ToShortDateString())</td>
                                                <td width="75px">@(line.EstimatedArrivalDate.Year == 1 ? "N/A" : line.EstimatedArrivalDate.ToShortDateString())</td>
                                                <td width="60px">@line.QtyReceived</td>
                                                <td width="75px">@(line.LatestReceivedDate.Year == 1 ? "N/A" : line.LatestReceivedDate.ToShortDateString())</td>


                                                <td width="60px">@line.QtyTicketed</td>
                                                <td width="60px">@line.QtyDelivered</td>
                                                <td width="75px"><span style="color:@line.LastScheduleDateColor;">@(line.LastSchedDate.Year == 1 ? "" : line.LastSchedDate.ToShortDateString())</span></td>
                                                <td width="90px">
                                                    <textarea style="width:90px;" class="values-input" id="carrier-@string.Format("{0}-{1}", line.POReference, line.LineNo)"
                                                              data-orderno="@line.OrderNo"
                                                              data-keystring="@line.VendorID.Trim()"
                                                              data-line="@line.LineNo"
                                                              data-linetype="L"
                                                              data-ordertype="O"
                                                              data-companycode="W"
                                                              data-upsertlevel="LI"
                                                              data-field="Carrier"
                                                              data-source="POP_APP" rows="3">@line.Carrier</textarea>
                                                </td>
                                                <td width="90px">
                                                    <textarea style="width:90px;" class="values-input" id="tracking-@string.Format("{0}-{1}", line.POReference, line.LineNo)"
                                                              data-orderno="@line.OrderNo"
                                                              data-keystring="@line.VendorID.Trim()"
                                                              data-line="@line.LineNo"
                                                              data-linetype="L"
                                                              data-ordertype="O"
                                                              data-companycode="W"
                                                              data-upsertlevel="LI"
                                                              data-field="Tracking"
                                                              data-source="POP_APP" rows="3">@line.TrackingNo</textarea>
                                                </td>
                                                <td width="90px">
                                                    <textarea style="width:90px;" class="values-input" id="freeform-@string.Format("{0}-{1}", line.POReference, line.LineNo)"
                                                              data-orderno="@line.OrderNo"
                                                              data-keystring="@line.VendorID.Trim()"
                                                              data-line="@line.LineNo"
                                                              data-linetype="L"
                                                              data-ordertype="O"
                                                              data-companycode="W"
                                                              data-upsertlevel="LI"
                                                              data-field="Notes"
                                                              data-source="POP_APP" rows="3">@line.FreeformNotes</textarea>
                                                </td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>

    <div class="row mt-4">
        <h3 class="col-12">Back-up Documentation</h3>
        <div class="card col-12 p-4">
            <h5> Location: </h5>
            <div class="folder-link form-inline">
                <a style="margin-right: 10px" href="file:@Model.HeaderInfo.FileName">@Model.HeaderInfo.FileName</a>
                <i style="margin-right: 30px;">(Internet Explorer Required to View)</i>
            </div>
            <br />
            <div class="folder-link form-inline">
                <input type="text" id="inputClipboard" style="position: absolute; margin-left: -99999px;" class="form-control" value="@Model.HeaderInfo.FileName" />
                <button class="btn btn-sm  btn-primary" id="clipboardPOPApp" style="margin-right: 10px;">Copy to Clipboard</button>
                <i>Once you hit “Copy to Clipboard,” open your file explorer and paste (Ctrl + V) into the Quick Access field</i>
            </div>
        </div>
    </div>

    <div class="row mt-4">
        <!--  Validation https://getbootstrap.com/docs/4.3/components/forms/#custom-styles -->
        <h3 class="col-12">Email Form</h3>
        <div class="card col-md-6 p-5">
            <form id="EmailForm">
                <input type="hidden" id="hiddenOrderNo" value="@Model.OrderNo" />
                <input type="hidden" id="hiddenOrderTitle" value="@Model.HeaderInfo.OrderTitle" />
                <input type="hidden" id="hiddenSalesPersonID" value="@Model.HeaderInfo.SalesPersonID" />
                <input type="hidden" id="hiddenCustomerName" value="@Model.HeaderInfo.CustomerName" />

                <div class="alert alert-info" style="display:none" id="msgEmailForm">
                    Please provide more information as to what you're inquiring about to the vendor. Example: Warranty Information, Putting orders on hold,
                    changing ship to addresses, etc.
                </div>

                <div class="form-group">
                    <label for="inputEmailType">Email Type</label>
                    <select class="custom-select mr-sm-2" id="inputEmailType">
                        <option value="ack" selected>Acknowledgement Inquiry</option>
                        <option value="track">Tracking Inquiry</option>
                        <option value="free">Freeform</option>
                    </select>
                </div>

                <div class="form-group" id="divInputSubject" style="display:none">
                    <label for="inputSubject">Freeform Subject</label>
                    <input type="email" class="form-control" id="inputSubject" name="inputSubject" required>
                </div>

                <div class="form-group">
                    <label for="inputYourEmail">Your Name</label>
                    <input type="email" class="form-control" id="inputYourName" name="inputYourName" required>
                </div>
                <div class="form-group">
                    <label for="inputYourEmail">Your Email Address</label>
                    <input type="email" class="form-control" id="inputYourEmail" name="inputYourEmail" required>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="inputCC1">CC</label>
                        <input type="email" class="form-control" id="inputCC1" />
                    </div>
                    <div class="form-group  col-md-6">
                        <label for="inputCC2">CC</label>
                        <input type="email" class="form-control" id="inputCC2" />
                    </div>
                </div>

                <div class="form-group">
                    <label for="inputNotes">Notes: <span style="font-style:italic; color:red;">(This will appear on every vendor email)</span></label>
                    <textarea class="form-control" id="inputNotes" name="inputNotes" rows="3"></textarea>
                </div>
                <div class="form-row">
                    <div class="col-md-3">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="includeTitle" checked />
                            <label class="form-check-label" for="includeTitle">
                                Include Title
                            </label>
                        </div>
                    </div>
                    <div class="col-md-9">
                        <button type="submit" class="btn btn-primary btn-block mb-2" id="SendEmailPostOrderPlacement">Submit</button>
                    </div>
                </div>

            </form>
        </div>
    </div>



    <!-- Modal -->
    <div class="modal fade" id="detailsModal" tabindex="-1" role="dialog" aria-labelledby="detailsModalTitle" aria-hidden="true">
        <div class="modal-dialog" role="document" style="max-width: 85%;">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="detailsModalTitle"></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <table id="postorderTableDetails" class="table table-sm table-bordered text-center sortable">
                        <thead>
                            <tr>
                                <th scope="col" class="table-header" style="width: 5%;">Line #</th>
                                <th scope="col" class="table-header" style="width: 5%;">Process Code</th>
                                <th scope="col" class="table-header" style="width: 5%;">Line Sales Code</th>
                                <th scope="col" class="table-header" style="width: 8%;">Warehouse/ Network Installer</th>
                                <th scope="col" class="table-header" style="width: 8%;">Catalog</th>
                                <th scope="col" class="table-header" style="width: 25%;">Description</th>
                                <th scope="col" class="table-header" style="width: 7%;">Qty Ordered</th>
                                <th scope="col" class="table-header" style="width: 7%;">Qty Received</th>
                                <th scope="col" class="table-header" style="width: 8%;">Received Date</th>
                                <th scope="col" class="table-header" style="width: 8%;">Requested Arrival Date</th>
                                <th scope="col" class="table-header" style="width: 8%;">Estimated Arrival Date</th>
                                <th scope="col" class="table-header" style="width: 8%;">Ship Date</th>
                                <th scope="col" class="table-header" style="width: 8%;">General Tagging</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

}
else
{
    <div class="no-results">

        <span id="noresults">No results to show.</span>

        <div class="d-flex justify-content-center">
            <div id="loading" class="spinner-border text-@ViewData["NavBarColor"]--custom" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>

    </div>
}

<div id="popupColsLD" class="modal-content" style="display:none;background-color:whitesmoke">
    <div class="modal-header">
        <h4 class="">Choose columns to export:</h4>
        <button type="button" class="close">  x  </button>
    </div>
    <div class="modal-body" style="margin-left:50px">
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsLDToExport" value="1" checked="checked">PO #
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsLDToExport" value="2" checked="checked">Vendor #
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsLDToExport" value="3" checked="checked">Ordered (Date)
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsLDToExport" value="4" checked="checked">Ack #
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsLDToExport" value="5" checked="checked">Ack Date
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsLDToExport" value="6" checked="checked">Ship Date
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsLDToExport" value="7" checked="checked">Requested Arrival Date
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsLDToExport" value="8" checked="checked">Lastest Received Date
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsLDToExport" value="9" checked="checked">Estimated Arrival Date
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsLDToExport" value="10" checked="checked">Scheduled Arrival Date
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsLDToExport" value="11" checked="checked">Carrier
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsLDToExport" value="12" checked="checked">Tracking/PRO #/BOL
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsLDToExport" value="13" checked="checked">Comments
            </label>
        </div>
    </div>
    <div class="modal-footer">
        <button type="submit" class="btn btn-primary button button4 btnExport" onclick="GeneratePDF(LinesPostOrder)">Submit</button>
    </div>
</div>
<div id="popupColsPOS" class="modal-content" style="display:none;background-color:whitesmoke">
    <div class="modal-header">
        <h4 class="">Choose columns to export:</h4>
        <button type="button" class="close">  x  </button>
    </div>
    <div class="modal-body" style="margin-left:50px">
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsPOSToExport" value="1" checked="checked">PO #
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsPOSToExport" value="2" checked="checked">Line #
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsPOSToExport" value="3" checked="checked">Vendor #
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsPOSToExport" value="15" checked="checked">Ordered(Date)
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsPOSToExport" value="4" checked="checked">Process Code
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsPOSToExport" value="5" checked="checked">Line Sales Code
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsPOSToExport" value="6" checked="checked">Warehouse/Network Installer
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsPOSToExport" value="7" checked="checked">Catalog
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsPOSToExport" value="8" checked="checked">Description
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsPOSToExport" value="9" checked="checked">Qty Ordered
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsPOSToExport" value="10" checked="checked">Qty Received
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsPOSToExport" value="11" checked="checked">Received Date
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsPOSToExport" value="12" checked="checked">Requested Arrival Date
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsPOSToExport" value="13" checked="checked">Estimated Arrival Date
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsPOSToExport" value="14" checked="checked">Ship Date
            </label>
        </div>
    </div>
    <div class="modal-footer">
        <button type="submit" class="btn btn-primary button button4 btnExport" onclick="GeneratePDF(LinesPostOrder)">Submit</button>
    </div>
</div>
<div id="popupColsDET" class="modal-content" style="display:none;background-color:whitesmoke">
    <div class="modal-header">
        <h4 class="">Choose columns to export:</h4>
        <button type="button" class="close">  x  </button>
    </div>
    <div class="modal-body" style="margin-left:50px">
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsDETToExport" value="1" checked="checked">PO #
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsDETToExport" value="2" checked="checked">Line #
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsDETToExport" value="3" checked="checked">Process Code
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsDETToExport" value="4" checked="checked">Order/PO Suffix
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsDETToExport" value="5" checked="checked">Vendor ID
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsDETToExport" value="6" checked="checked">Vendor Name
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsDETToExport" value="7" checked="checked">Catalog #
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsDETToExport" value="8" checked="checked">Description
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsDETToExport" value="9" checked="checked">QTY Ordered
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsDETToExport" value="10" checked="checked">General Tagging
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsDETToExport" value="11" checked="checked">Ordered Date
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsDETToExport" value="12" checked="checked">Requested Arrival Date
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsLDToExport" value="13" checked="checked">Ack #
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsDETToExport" value="14" checked="checked">Ship Date
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsDETToExport" value="15" checked="checked">Estimated Arrival Date
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsDETToExport" value="16" checked="checked">QTY Received
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsDETToExport" value="17" checked="checked">Latest Received Date
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsDETToExport" value="18" checked="checked">Carrier
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsDETToExport" value="19" checked="checked">Tracking #
            </label>
        </div>
        <div class="checkbox-inline">
            <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="colsDETToExport" value="20" checked="checked">Freeform Notes
            </label>
        </div>
    </div>
    <div class="modal-footer">
        <button type="submit" class="btn btn-primary button button4 btnExport" onclick="GeneratePDF(LineDetailPostOrder)">Submit</button>
    </div>
</div>
<input type="hidden" id="hdnExportType" />

<div id="alert"></div>

<div class="modal fade" id="trackingLinkModal" tabindex="-1" role="dialog" aria-labelledby="trackingLinkModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="trackingLinkModalLabel">Tracking Link</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <input type="text" class="form-control" id="trackingLink"
                           data-orderno=""
                           data-po=""
                           data-keystring=""
                           data-companycode=""
                           data-ordertype=""
                           data-upsertlevel=""
                           data-source=""
                           data-field="" />
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="btnSaveTrackingLink">Save changes</button>
            </div>
        </div>
    </div>
</div>

<script>
	var LinesPostOrder = @Html.Raw(Model.SummaryInfoJson());
	var LineDetailPostOrder = @Html.Raw(Model.LineDetailJson());
</script>
